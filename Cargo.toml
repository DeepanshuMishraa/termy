[workspace]
members = [".", "crates/auto_update", "crates/themes", "crates/terminal_ui", "crates/toast_sdk"]
resolver = "2"

[package]
name = "termy"
version = "0.1.17"
edition = "2024"

[package.metadata.bundle]
name = "Termy"
identifier = "com.example.termy"
short_description = "Minimal GPUI-powered terminal"
category = "Developer Tool"
icon = ["assets/termy.icns"]

[dependencies]
gpui = { git = "https://github.com/zed-industries/zed", package = "gpui" }

# Terminal emulation
alacritty_terminal = { git = "https://github.com/alacritty/alacritty", rev = "4225cea231432fb23442b1da2463b4ec9dfd726c" }

# Async/concurrency
futures = "0.3"
flume = "0.11"
parking_lot = "0.12"
smol = "2.0"
anyhow = "1.0"

# Logging
log = "0.4"
env_logger = "0.11"

# Termy Workspace Crates
termy_auto_update = { path = "crates/auto_update" }
termy_themes = { path = "crates/themes" }
termy_terminal_ui = { path = "crates/terminal_ui" }
termy_toast = { path = "crates/toast_sdk" }

[target.'cfg(target_os = "macos")'.dependencies]
# Pin core-text to 21.0.0 to avoid core-graphics version conflict on macOS.
core-text = "=21.0.0"

[target.'cfg(target_os = "windows")'.build-dependencies]
winresource = "0.1"
